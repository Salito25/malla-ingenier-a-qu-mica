<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malla Curricular - Ingenier칤a Qu칤mica</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #ffe6f0;
      color: #000;
      transition: background-color 0.3s, color 0.3s;
    }
    .dark-mode {
      background-color: #1c1c1c;
      color: #fff;
    }
    header {
      padding: 1rem;
      text-align: center;
      background: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .controls {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1rem;
      margin: 1rem;
    }
    .semestres {
      display: flex;
      flex-direction: row;
      overflow-x: auto;
      padding: 1rem;
      gap: 1rem;
    }
    .semestre {
      background: white;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      min-width: 220px;
      transition: transform 0.3s;
    }
    .semestre:hover {
      transform: scale(1.02);
    }
    .materia {
      padding: 0.5rem;
      border: 1px solid #ccc;
      margin: 0.5rem 0;
      border-radius: 8px;
      background: #f9f9f9;
      cursor: pointer;
      transition: background 0.3s;
    }
    .materia:hover {
      background: #ffd9ec;
    }
    .materia.bloqueada {
      background: #eee;
      color: #aaa;
      pointer-events: none;
    }
    .materia.completada {
      background: #d4edda;
    }
    .info {
      text-align: center;
      margin-top: 1rem;
    }
    input[type="search"] {
      padding: 0.5rem;
      font-size: 1rem;
    }
    .toggle-dark {
      cursor: pointer;
      padding: 0.5rem 1rem;
      border: none;
      background: #000;
      color: #fff;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Malla Curricular - Ingenier칤a Qu칤mica</h1>
  </header>
  <div class="controls">
    <input type="search" id="buscador" placeholder="Buscar materia...">
    <button class="toggle-dark" onclick="toggleModoOscuro()">游깿 Modo Oscuro</button>
  </div>
  <div class="info">
    <p>Cr칠ditos acumulados: <span id="creditos">0</span></p>
    <p>Progreso total: <span id="progreso">0%</span></p>
  </div>
  <div class="semestres" id="contenedor">
    <!-- Las materias se generan aqu칤 -->
  </div>
  <script>
    const materias = [
      { nombre: "Calculo diferencial", creditos: 4, semestre: 1 },
      { nombre: "Geometria vectorial y anal칤tica", creditos: 4, semestre: 1 },
      { nombre: "Introducci칩n a la ingenier칤a qu칤mica", creditos: 2, semestre: 1 },
      { nombre: "Qu칤mica general", creditos: 3, semestre: 1 },
      { nombre: "Calculo integral", creditos: 4, prerrequisitos: ["Calculo diferencial"], semestre: 2 },
      { nombre: "Algebra lineal", creditos: 4, prerrequisitos: ["Geometria vectorial y anal칤tica"], semestre: 2 },
      { nombre: "Fisica mec치nica", creditos: 4, prerrequisitos: ["Calculo diferencial", "Geometria vectorial y anal칤tica"], semestre: 2 },
      { nombre: "Qu칤mica anal칤tica", creditos: 3, prerrequisitos: ["Qu칤mica general"], semestre: 2 },
      { nombre: "Qu칤mica org치nica", creditos: 3, semestre: 2 },
      { nombre: "Calculo en varias variables", creditos: 4, prerrequisitos: ["Calculo integral"], semestre: 3 },
      { nombre: "Ecuaciones diferenciales", creditos: 4, prerrequisitos: ["Calculo integral", "Algebra lineal"], semestre: 3 },
      { nombre: "Termodin치mica general", creditos: 3, prerrequisitos: ["Fisica mec치nica"], semestre: 3 },
      { nombre: "Optativa de laboratorio de qu칤mica", creditos: 2, semestre: 3 },
      { nombre: "Fundamentos de proyecto en ingenier칤a", creditos: 3, prerrequisitos: ["Introducci칩n a la ingenier칤a qu칤mica"], semestre: 3 },
      { nombre: "Estad칤stica 1", creditos: 3, prerrequisitos: ["Calculo integral"], semestre: 4 },
      { nombre: "F칤sica de electricidad y magnetismo", creditos: 3, prerrequisitos: ["Calculo integral", "Fisica mec치nica"], semestre: 4 },
      { nombre: "Fundamentos de programaci칩n", creditos: 3, prerrequisitos: ["Algebra lineal"], semestre: 4 },
      { nombre: "Balances de materia y energ칤a", creditos: 4, prerrequisitos: ["Termodin치mica general"], semestre: 4 },
      { nombre: "Matem치ticas discretas", creditos: 4, prerrequisitos: ["Calculo diferencial"], semestre: 5 },
      { nombre: "Ciencias de los materiales", creditos: 3, prerrequisitos: ["Qu칤mica general"], semestre: 5 },
      { nombre: "Fundamentos de biotecnolog칤a", creditos: 3, prerrequisitos: ["Qu칤mica org치nica"], semestre: 5 },
      { nombre: "introducci칩n al control de procesos", creditos: 3, prerrequisitos: ["Ecuaciones diferenciales"], semestre: 5 },
      { nombre: "Fen칩menos de transporte", creditos: 3, prerrequisitos: ["Ecuaciones diferenciales", "Termodin치mica general"], semestre: 5 },
      { nombre: "F칤sica de oscilaciones, ondas y 칩pticas", creditos: 4, prerrequisitos: ["Ecuaciones diferenciales", "F칤sica de electricidad y magnetismo"], semestre: 6 },
      { nombre: "Termodin치mica del equilibrio de fases para sistemas multicomponentes", creditos: 3, prerrequisitos: ["Termodin치mica general"], semestre: 6 },
      { nombre: "Operaciones de transferencia de cantidad de movimiento", creditos: 3, semestre: 6 },
      { nombre: "Operaciones de transferencia de calor", creditos: 3, semestre: 6 },
      { nombre: "Optativa disciplinar", creditos: 3, semestre: 7 },
      { nombre: "Equilibrios en sistemas reactivos y fen칩menos de superficie", creditos: 3, prerrequisitos: ["Termodin치mica general"], semestre: 7 },
      { nombre: "Operaciones de transferencia de masa", creditos: 4, semestre: 7 },
      { nombre: "Estructura y evaluaci칩n de proyectos de ingenier칤a", creditos: 3, prerrequisitos: ["Fundamentos de proyecto en ingenier칤a"], semestre: 7 },
      { nombre: "Teor칤a administrativa y organizacional", creditos: 3, prerrequisitos: ["Introducci칩n a la ingenier칤a qu칤mica"], semestre: 8 },
      { nombre: "Optativa disciplinar", creditos: 3, semestre: 8 },
      { nombre: "Laboratorio 1 de ingenier칤a qu칤mica termodin치mica", creditos: 2, prerrequisitos: ["Termodin치mica del equilibrio de fases para sistemas multicomponentes", "Equilibrios en sistemas reactivos y fen칩menos de superficie"], semestre: 8 },
      { nombre: "Ingenier칤a de los reactores qu칤micos", creditos: 4, semestre: 8 },
      { nombre: "Optativa disciplinar", creditos: 3, semestre: 9 },
      { nombre: "Laboratorio 2 de ingenier칤a qu칤mica, operaciones de transferencia y control de procesos", creditos: 4, semestre: 9 },
      { nombre: "Ingenier칤a de procesos", creditos: 4, prerrequisitos: ["Ingenier칤a de los reactores qu칤micos"], semestre: 9 },
      { nombre: "Proyecto integrado de ingenier칤a", creditos: 4, prerrequisitos: ["Estructura y evaluaci칩n de proyectos de ingenier칤a"], semestre: 9 },
    ];

    const estado = JSON.parse(localStorage.getItem("progresoMaterias") || "{}");

    function crearMalla() {
      const contenedor = document.getElementById("contenedor");
      contenedor.innerHTML = "";
      const semestres = [...new Set(materias.map(m => m.semestre))].sort((a,b) => a-b);
      semestres.forEach(s => {
        const col = document.createElement("div");
        col.className = "semestre";
        const titulo = document.createElement("h3");
        titulo.textContent = `Semestre ${s}`;
        col.appendChild(titulo);
        const delSemestre = materias.filter(m => m.semestre === s);
        delSemestre.forEach(m => {
          const div = document.createElement("div");
          div.className = "materia";
          div.textContent = m.nombre;
          if (estado[m.nombre]) div.classList.add("completada");
          if (!puedeDesbloquear(m)) div.classList.add("bloqueada");
          div.onclick = () => {
            estado[m.nombre] = !estado[m.nombre];
            localStorage.setItem("progresoMaterias", JSON.stringify(estado));
            crearMalla();
            actualizarInfo();
          };
          div.title = `${m.creditos} cr칠ditos` + (m.prerrequisitos ? `\nPrerrequisitos: ${m.prerrequisitos.join(", ")}` : "");
          col.appendChild(div);
        });
        contenedor.appendChild(col);
      });
      actualizarInfo();
    }

    function puedeDesbloquear(m) {
      if (!m.prerrequisitos) return true;
      return m.prerrequisitos.every(p => estado[p]);
    }

    function actualizarInfo() {
      const creditos = materias.filter(m => estado[m.nombre]).reduce((s, m) => s + m.creditos, 0);
      const total = materias.reduce((s, m) => s + m.creditos, 0);
      document.getElementById("creditos").textContent = creditos;
      document.getElementById("progreso").textContent = Math.round(creditos / total * 100) + "%";
    }

    function toggleModoOscuro() {
      document.body.classList.toggle("dark-mode");
    }

    document.getElementById("buscador").addEventListener("input", e => {
      const texto = e.target.value.toLowerCase();
      document.querySelectorAll(".materia").forEach(div => {
        div.style.display = div.textContent.toLowerCase().includes(texto) ? "block" : "none";
      });
    });

    crearMalla();
  </script>
</body>
</html>






