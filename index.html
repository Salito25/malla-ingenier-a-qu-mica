<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Ingeniería Química</title>
  <style>
    body {
      background-color: #ffe6f0;
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
    }

    .semestre {
      background-color: white;
      padding: 15px;
      margin: 10px 0;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    .semestre h2 {
      margin-top: 0;
    }

    .materia {
      margin: 5px 0;
    }

    label {
      color: black;
    }

    input:disabled + label {
      color: #aaa;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular Ingeniería Química</h1>

  <div id="contenedor"></div>

  <script>
    const materias = [
      { nombre: "Cálculo diferencial", id: "calculo_dif", creditos: 4, prerrequisitos: [] },
      { nombre: "Geometría vectorial y analítica", id: "geometria", creditos: 4, prerrequisitos: [] },
      { nombre: "Introducción a la ingeniería química", id: "intro_iq", creditos: 2, prerrequisitos: [] },
      { nombre: "Química general", id: "quimica_gen", creditos: 3, prerrequisitos: [] },

      { nombre: "Cálculo integral", id: "calculo_int", creditos: 4, prerrequisitos: ["calculo_dif"] },
      { nombre: "Álgebra lineal", id: "algebra", creditos: 4, prerrequisitos: ["geometria"] },
      { nombre: "Física mecánica", id: "fisica_mec", creditos: 4, prerrequisitos: ["calculo_dif", "geometria"] },
      { nombre: "Química analítica", id: "quimica_ana", creditos: 3, prerrequisitos: ["quimica_gen"] },
      { nombre: "Química orgánica", id: "quimica_org", creditos: 3, prerrequisitos: [] },

      { nombre: "Cálculo en varias variables", id: "calculo_var", creditos: 4, prerrequisitos: ["calculo_int"] },
      { nombre: "Ecuaciones diferenciales", id: "ecuaciones", creditos: 4, prerrequisitos: ["calculo_int", "algebra"] },
      { nombre: "Termodinámica general", id: "termo_gen", creditos: 3, prerrequisitos: ["fisica_mec"] },
      { nombre: "Optativa de laboratorio de química", id: "opt_labq", creditos: 2, prerrequisitos: [] },
      { nombre: "Fundamentos de proyecto en ingeniería", id: "fund_proy", creditos: 3, prerrequisitos: ["intro_iq"] },

      { nombre: "Estadística 1", id: "estad1", creditos: 3, prerrequisitos: ["calculo_int"] },
      { nombre: "Física de electricidad y magnetismo", id: "fisica_em", creditos: 3, prerrequisitos: ["calculo_int", "fisica_mec"] },
      { nombre: "Fundamentos de programación", id: "prog", creditos: 3, prerrequisitos: ["algebra"] },
      { nombre: "Balances de materia y energía", id: "balances", creditos: 4, prerrequisitos: ["termo_gen"] },

      { nombre: "Matemáticas discretas", id: "discretas", creditos: 4, prerrequisitos: ["calculo_dif"] },
      { nombre: "Ciencias de los materiales", id: "materiales", creditos: 3, prerrequisitos: ["quimica_gen"] },
      { nombre: "Fundamentos de biotecnología", id: "biotec", creditos: 3, prerrequisitos: ["quimica_org"] },
      { nombre: "Introducción al control de procesos", id: "control", creditos: 3, prerrequisitos: ["ecuaciones"] },
      { nombre: "Fenómenos de transporte", id: "transporte", creditos: 3, prerrequisitos: ["ecuaciones", "termo_gen"] },

      { nombre: "Física de oscilaciones, ondas y óptica", id: "fisica_ondas", creditos: 4, prerrequisitos: ["ecuaciones", "fisica_em"] },
      { nombre: "Termodinámica del equilibrio de fases", id: "termo_fases", creditos: 3, prerrequisitos: ["termo_gen"] },
      { nombre: "Transferencia de cantidad de movimiento", id: "momento", creditos: 3, prerrequisitos: [] },
      { nombre: "Transferencia de calor", id: "calor", creditos: 3, prerrequisitos: [] },

      { nombre: "Optativa disciplinar 1", id: "optativa1", creditos: 3, prerrequisitos: [] },
      { nombre: "Equilibrios y fenómenos de superficie", id: "equilibrios", creditos: 3, prerrequisitos: ["termo_gen"] },
      { nombre: "Transferencia de masa", id: "masa", creditos: 4, prerrequisitos: [] },
      { nombre: "Estructura y evaluación de proyectos", id: "eval_proy", creditos: 3, prerrequisitos: ["fund_proy"] },

      { nombre: "Teoría administrativa", id: "admin", creditos: 3, prerrequisitos: ["intro_iq"] },
      { nombre: "Optativa disciplinar 2", id: "optativa2", creditos: 3, prerrequisitos: [] },
      { nombre: "Laboratorio 1 IQ", id: "lab1", creditos: 2, prerrequisitos: ["termo_fases", "equilibrios"] },
      { nombre: "Ingeniería de reactores químicos", id: "reactores", creditos: 4, prerrequisitos: [] },

      { nombre: "Optativa disciplinar 3", id: "optativa3", creditos: 3, prerrequisitos: [] },
      { nombre: "Laboratorio 2 IQ", id: "lab2", creditos: 4, prerrequisitos: [] },
      { nombre: "Ingeniería de procesos", id: "procesos", creditos: 4, prerrequisitos: ["reactores"] },
      { nombre: "Proyecto integrado de ingeniería", id: "proy_integrado", creditos: 4, prerrequisitos: ["eval_proy"] },
    ];

    const contenedor = document.getElementById("contenedor");

    materias.forEach((m, i) => {
      if (i % 4 === 0) {
        var div = document.createElement("div");
        div.className = "semestre";
        div.innerHTML = `<h2>${Math.floor(i / 4) + 1}° semestre</h2>`;
        contenedor.appendChild(div);
      }
      const parent = contenedor.lastElementChild;
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.id = m.id;
      checkbox.disabled = m.prerrequisitos.length > 0;
      const label = document.createElement("label");
      label.htmlFor = m.id;
      label.textContent = `${m.nombre} (${m.creditos} créditos)`;
      const divMateria = document.createElement("div");
      divMateria.className = "materia";
      divMateria.appendChild(checkbox);
      divMateria.appendChild(label);
      parent.appendChild(divMateria);
    });

    document.querySelectorAll("input[type='checkbox']").forEach(c => {
      c.addEventListener("change", () => {
        materias.forEach(m => {
          const check = document.getElementById(m.id);
          if (!check.checked && m.prerrequisitos.length > 0) {
            const cumplidos = m.prerrequisitos.every(pid => document.getElementById(pid).checked);
            document.getElementById(m.id).disabled = !cumplidos;
          }
        });
      });
    });
  </script>
</body>
</html>
